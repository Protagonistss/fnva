[target.x86_64-unknown-linux-gnu]
image = "ghcr.io/cross-rs/x86_64-unknown-linux-gnu:edge"

[target.aarch64-unknown-linux-gnu]
image = "ghcr.io/cross-rs/aarch64-unknown-linux-gnu:edge"
env.passes = ["OPENSSL_DIR", "OPENSSL_LIB_DIR", "OPENSSL_INCLUDE_DIR", "OPENSSL_STATIC"]

[build.env]
passthrough = [
    "OPENSSL_DIR",
    "OPENSSL_LIB_DIR",
    "OPENSSL_INCLUDE_DIR",
    "OPENSSL_STATIC",
    "PKG_CONFIG_ALLOW_SYSTEM_CFLAGS"
]

[target.x86_64-unknown-linux-gnu.env]
volumes = ["/usr/lib/x86_64-linux-gnu"]
passthrough = [
    "OPENSSL_DIR=/usr",
    "OPENSSL_LIB_DIR=/usr/lib/x86_64-linux-gnu",
    "OPENSSL_INCLUDE_DIR=/usr/include/openssl",
    "OPENSSL_STATIC=1"
]

[target.aarch64-unknown-linux-gnu.env]
passthrough = [
    "OPENSSL_STATIC=1"
]